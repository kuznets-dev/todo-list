(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{208:function(e,t,n){},235:function(e,t){},237:function(e,t){},251:function(e,t){},253:function(e,t){},281:function(e,t){},283:function(e,t){},284:function(e,t){},289:function(e,t){},291:function(e,t){},310:function(e,t){},322:function(e,t){},325:function(e,t){},342:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),s=(n(208),n(21)),i=n(22),u=n.n(i),l=n(40),d=n(17),j=n(388),b=n(393),p=n(375),f=n(71),O=n(343),m=n(3),x=function(e){var t=e.isLogin,n=e.logout;return Object(m.jsxs)(p.a,{style:{background:"#3f51b5"},container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(m.jsx)(f.a,{style:{padding:20,color:"white"},variant:"h3",align:"left",children:t?localStorage.getItem("name"):"Todo App"}),t&&Object(m.jsx)(O.a,{onClick:function(){return n()},style:{marginRight:30,textTransform:"none",fontSize:18},variant:"contained",color:"secondary",children:"Logout"})]})},g=n(389);var h=function(e){var t=e.addTodo,n=Object(a.useState)(""),r=Object(d.a)(n,2),c=r[0],o=r[1],s=function(e){e.preventDefault(),t(c),o("")};return Object(m.jsx)("form",{onSubmit:s,children:Object(m.jsx)(g.a,{value:c,onChange:function(e){o(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&s(e)},placeholder:"I want to...",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},variant:"outlined"})})},v=n(380),k=n(381),y=n(382),S=n(189),C=n.n(S),w=n(391),I=n(383),T=n(187),D=n.n(T),L=n(188),P=n.n(L);var E=function(e){var t=e.todo,n=e.removeTodo,r=e.changeTodo,c=Object(a.useState)(!1),o=Object(d.a)(c,2),s=o[0],i=o[1],u=Object(a.useState)(t.name),l=Object(d.a)(u,2),j=l[0],b=l[1],f=Object(a.useState)(!1),O=Object(d.a)(f,2),x=O[0],h=O[1];return Object(m.jsx)(k.a,{children:Object(m.jsxs)(p.a,{container:!0,direction:"row",alignItems:"center",children:[Object(m.jsx)(p.a,{item:!0,xs:1,children:Object(m.jsx)(w.a,{onClick:function(){return function(e){r(e,j,!e.done)}(t)},icon:Object(m.jsx)(D.a,{}),checkedIcon:Object(m.jsx)(P.a,{color:"primary"}),checked:t.done})}),Object(m.jsx)(p.a,{item:!0,xs:8,children:s?Object(m.jsx)(g.a,{multiline:!0,value:j,autoFocus:!0,variant:"outlined",onChange:function(e){return b(e.target.value)},onKeyDown:function(e){return function(e,t){"Enter"===t.key&&(t.preventDefault(),i(!1),r(e,j,e.done)),"Escape"===t.key&&(i(!1),b(e.name))}(t,e)},onBlur:function(){i(!1),b(t.name)}}):Object(m.jsx)(I.a,{primary:t.name,style:{overflowWrap:"break-word"},multiline:"true",onClick:function(){return i(!0)}})}),Object(m.jsx)(p.a,{item:!0,xs:2,children:Object(m.jsx)(I.a,{children:t.updatedAt})}),Object(m.jsx)(p.a,{item:!0,xs:1,children:Object(m.jsx)(y.a,{"aria-label":"delete",disabled:x,onClick:function(){return h(!0),void n(t.uuid)},children:Object(m.jsx)(C.a,{})})})]})})},U=n(384);var z=function(e){var t=e.todoStatus,n=e.setTodoStatus;return Object(m.jsxs)(U.a,{children:[Object(m.jsx)(O.a,{onClick:function(){return n("")},variant:""===t?"contained":"outlined",color:"default",children:"All"}),Object(m.jsx)(O.a,{onClick:function(){return n("done")},variant:"done"===t?"contained":"outlined",color:"primary",children:"Done"}),Object(m.jsx)(O.a,{onClick:function(){return n("undone")},variant:"undone"===t?"contained":"outlined",color:"secondary",children:"Undone"})]})},A=n(190),B=n.n(A),R=n(191),F=n.n(R);var H=function(e){var t=e.todoSort,n=e.setTodoSort,a=function(e){e!==t&&n(e)};return Object(m.jsxs)(p.a,{container:!0,direction:"row",alignItems:"center",children:[Object(m.jsx)(f.a,{variant:"h6",component:"h2",children:"Sorted by Date"}),Object(m.jsx)(y.a,{color:"desc"===t?"primary":"default",onClick:function(){return a("desc")},"aria-label":"delete",size:"medium",children:Object(m.jsx)(B.a,{fontSize:"inherit"})}),Object(m.jsx)(y.a,{color:"asc"===t?"primary":"default",onClick:function(){return a("asc")},"aria-label":"delete",size:"medium",children:Object(m.jsx)(F.a,{fontSize:"inherit"})})]})},N=n(385),W=n(386);var J=function(e){var t=e.pageCount,n=e.currentPage,a=e.setCurrentPage,r=new Array(t).fill("").map((function(e,t){return t+1}));return Object(m.jsxs)(p.a,{container:!0,justify:"center",children:[Object(m.jsx)(O.a,{color:"primary",onClick:function(){return a(1)},children:Object(m.jsx)(N.a,{})}),Object(m.jsx)(p.a,{children:Object(m.jsx)(U.a,{children:r.map((function(e){return Object(m.jsx)(O.a,{color:"primary",variant:e===n?"contained":"outlined",onClick:function(){return a(e)},children:e},e)}))})}),Object(m.jsx)(O.a,{color:"primary",onClick:function(){return a(r.length)},children:Object(m.jsx)(W.a,{})})]})},K=n(192),M=n.n(K).a.create({baseURL:"https://back-end-main.herokuapp.com/"}),q=n(390),G=n(387),Q=n(84),V=n(86);var X=function(e){var t=e.setIsLogin,n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(""),j=Object(d.a)(i,2),O=j[0],x=j[1],g=Object(a.useState)("desc"),k=Object(d.a)(g,2),y=k[0],S=k[1],C=Object(a.useState)(1),w=Object(d.a)(C,2),I=w[0],T=w[1],D=Object(a.useState)(1),L=Object(d.a)(D,2),P=L[0],U=L[1],A=Object(a.useState)({alert:!1,message:"message",statusCode:"status"}),B=Object(d.a)(A,2),R=B[0],F=B[1],N=Object(a.useCallback)(Object(l.a)(u.a.mark((function e(){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),M.defaults.headers.common.Authorization="Bearer ".concat(n),e.next=5,M.get("/tasks",{params:{filterBy:O,orderBy:y,page:P,limit:5}});case 5:a=e.sent,T(a.data.pageCount),o(a.data.rows),e.next=21;break;case 10:if(e.prev=10,e.t0=e.catch(0),r=e.t0.response.data.message,c=e.t0.response.status,F({alert:!0,message:r,statusCode:c}),!Q.decode(localStorage.token)){e.next=19;break}return t(!0),e.abrupt("return");case 19:localStorage.removeItem("token"),t(!1);case 21:case"end":return e.stop()}}),e,null,[[0,10]])}))),[t,O,y,P]);Object(a.useEffect)((function(){N()}),[N]);var W=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("/task",{name:t,done:!1});case 3:return e.next=5,N();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response.data.message,a=e.t0.response.status,F({alert:!0,message:n,statusCode:a});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.delete("task/".concat(t));case 3:return e.next=5,N();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response.data.message,a=e.t0.response.status,F({alert:!0,message:n,statusCode:a});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.patch("/task/".concat(t.uuid),{name:n,done:a});case 3:return e.next=5,N();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.response.data.message,c=e.t0.response.status,F({alert:!0,message:r,statusCode:c});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Y=function(){F((function(e){return Object(s.a)(Object(s.a)({},e),{},{alert:!1})}))};return Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(f.a,{style:{marginTop:100},variant:"h2",align:"center",children:"Todo"}),Object(m.jsx)(h,{addTodo:W}),Object(m.jsxs)(p.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(m.jsx)(p.a,{children:Object(m.jsx)(z,{todoStatus:O,setTodoStatus:x})}),Object(m.jsx)(p.a,{children:Object(m.jsx)(H,{todoSort:y,setTodoSort:S})})]}),Object(m.jsx)(V.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(c),n=t.splice(e.source.index,1),a=Object(d.a)(n,1)[0];t.splice(e.destination.index,0,a),o(t)}},children:Object(m.jsx)(V.c,{droppableId:"todos",children:function(e){return Object(m.jsx)("div",Object(s.a)(Object(s.a)({},e.droppableProps),{},{ref:e.innerRef,children:Object(m.jsxs)(v.a,{children:[c.map((function(e,t){return Object(m.jsx)(V.b,{draggableId:e.uuid,index:t,children:function(t){return Object(m.jsx)("div",Object(s.a)(Object(s.a)(Object(s.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(m.jsx)(E,{todo:e,removeTodo:K,changeTodo:X})}))}},e.uuid)})),e.placeholder]})}))}})}),I>1&&Object(m.jsx)(J,{pageCount:I,currentPage:P,setCurrentPage:U}),Object(m.jsx)(b.a,{open:R.alert,autoHideDuration:3e3,onClose:Y,children:Object(m.jsxs)(q.a,{onClose:Y,severity:"error",children:[Object(m.jsx)(G.a,{children:"".concat(R.message)}),"Status code: ".concat(R.statusCode)]})})]})},Y=n(81);var Z=function(e){var t=e.isSignup,n=e.setIsSignup,r=e.signUp,c=e.login,o=Object(a.useState)({name:"",password:""}),i=Object(d.a)(o,2),u=i[0],l=i[1],b=function(e){l(Object(s.a)(Object(s.a)({},u),{},Object(Y.a)({},e.target.name,e.target.value)))};return Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(m.jsxs)(j.a,{children:[Object(m.jsxs)(p.a,{container:!0,direction:"column",justify:"center",align:"center",children:[Object(m.jsx)(f.a,{style:{marginTop:100},variant:"h3",align:"center",children:t?"SignUp":"Login"}),Object(m.jsx)(g.a,{type:"name",name:"name",onChange:b,value:u.name,style:{marginTop:30},label:"Username"}),Object(m.jsx)(g.a,{type:"password",name:"password",onChange:b,value:u.password,style:{marginTop:30},label:"Password"})]}),Object(m.jsxs)(p.a,{style:{marginTop:30},container:!0,direction:"row",justify:"center",align:"center",children:[t?Object(m.jsx)(O.a,{onClick:function(){return r(u)},type:"submit",style:{marginRight:30,textTransform:"none"},variant:"contained",color:"primary",children:"SignUp"}):Object(m.jsx)(O.a,{onClick:function(){return c(u)},type:"submit",style:{marginRight:30,textTransform:"none"},variant:"contained",color:"primary",children:"Login"}),Object(m.jsx)(O.a,{onClick:function(){return n(!t)},style:{textTransform:"none"},color:"primary",children:t?"Do you have account?":"No accaunt?"})]})]})})})};var $=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(d.a)(c,2),i=o[0],p=o[1],f=Object(a.useState)({alert:!1,message:"message",statusCode:"status"}),O=Object(d.a)(f,2),g=O[0],h=O[1],v=Object(a.useCallback)((function(){if(localStorage.token){if(Q.decode(localStorage.token))return void p(!0);localStorage.removeItem("token"),p(!1)}}),[]);Object(a.useEffect)((function(){v()}),[v]);var k=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.password,e.prev=1,e.next=4,M.post("/login",{name:n,password:a});case 4:r=e.sent,c=r.data.token,localStorage.setItem("token",c),localStorage.setItem("name",n),p(!0),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),o=e.t0.response.data.message,s=e.t0.response.status,h({alert:!0,message:o,statusCode:s});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.password,e.prev=1,e.next=4,M.post("/registration",{name:n,password:a});case 4:k({name:n,password:a}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),r=e.t0.response.data.message,c=e.t0.response.status,h({alert:!0,message:r,statusCode:c});case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){h((function(e){return Object(s.a)(Object(s.a)({},e),{},{alert:!1})}))};return Object(m.jsxs)(j.a,{style:{padding:0},maxWidth:"xl",children:[Object(m.jsx)(x,{isLogin:i,logout:function(){localStorage.removeItem("token"),localStorage.removeItem("name"),p(!1)}}),i?Object(m.jsx)(X,{setIsLogin:p}):Object(m.jsx)(Z,{isSignup:n,setIsSignup:r,signUp:y,login:k}),Object(m.jsx)(b.a,{open:g.alert,autoHideDuration:3e3,onClose:S,children:Object(m.jsxs)(q.a,{onClose:S,severity:"error",children:[Object(m.jsx)(G.a,{children:"".concat(g.message)}),"Status code: ".concat(g.statusCode)]})})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,394)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)($,{})}),document.getElementById("root")),_()}},[[342,1,2]]]);
//# sourceMappingURL=main.4ffdb19c.chunk.js.map