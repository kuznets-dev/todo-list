(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),s=(n(96),n(49)),i=n(28),u=n(16),l=n.n(u),j=n(29),d=n(14),b=n(167),p=n(172),O=n(154),m=n(47),h=n(122),f=n(3),x=function(e){var t=e.userName,n=e.isLogin,a=e.setIsLogin;return Object(f.jsxs)(O.a,{style:{background:"#3f51b5"},container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(f.jsx)(m.a,{style:{padding:20,color:"white"},variant:"h3",align:"left",children:n?t:"Todo App"}),n&&Object(f.jsx)(h.a,{onClick:function(){return localStorage.removeItem("token"),void a(!1)},style:{marginRight:30,textTransform:"none",fontSize:18},variant:"contained",color:"secondary",children:"Logout"})]})},g=n(168);var v=function(e){var t=e.addTodo,n=Object(a.useState)(""),r=Object(d.a)(n,2),c=r[0],o=r[1],s=function(e){e.preventDefault(),t(c),o("")};return Object(f.jsx)("form",{onSubmit:s,children:Object(f.jsx)(g.a,{value:c,onChange:function(e){o(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&s(e)},placeholder:"I want to...",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},variant:"outlined"})})},y=n(159),k=n(160),C=n(161),w=n(77),S=n.n(w),T=n(170),I=n(162),D=n(75),L=n.n(D),U=n(76),P=n.n(U);var N=function(e){var t=e.todo,n=e.removeTodo,r=e.changeTodo,c=Object(a.useState)(!1),o=Object(d.a)(c,2),s=o[0],i=o[1],u=Object(a.useState)(t.name),l=Object(d.a)(u,2),j=l[0],b=l[1];return Object(f.jsx)(k.a,{children:Object(f.jsxs)(O.a,{container:!0,direction:"row",alignItems:"center",children:[Object(f.jsx)(O.a,{item:!0,xs:1,children:Object(f.jsx)(T.a,{onClick:function(){return function(e){r(e,j,!e.done)}(t)},icon:Object(f.jsx)(L.a,{}),checkedIcon:Object(f.jsx)(P.a,{color:"primary"}),checked:t.done})}),Object(f.jsx)(O.a,{item:!0,xs:8,children:s?Object(f.jsx)(g.a,{multiline:!0,value:j,autoFocus:!0,variant:"outlined",onChange:function(e){return b(e.target.value)},onKeyDown:function(e){return function(e,t){"Enter"===t.key&&(t.preventDefault(),i(!1),r(e,j,e.done)),"Escape"===t.key&&(i(!1),b(e.name))}(t,e)},onBlur:function(){i(!1),b(t.name)}}):Object(f.jsx)(I.a,{primary:t.name,style:{overflowWrap:"break-word"},multiline:"true",onClick:function(){return i(!0)}})}),Object(f.jsx)(O.a,{item:!0,xs:2,children:Object(f.jsx)(I.a,{children:t.updatedAt})}),Object(f.jsx)(O.a,{item:!0,xs:1,children:Object(f.jsx)(C.a,{"aria-label":"delete",onClick:function(){return n(t.uuid)},children:Object(f.jsx)(S.a,{})})})]})})};var z=function(e){var t=e.todos,n=e.removeTodo,a=e.checkTodo,r=e.changeTodo;return Object(f.jsx)(y.a,{children:t.map((function(e){return Object(f.jsx)(N,{todo:e,removeTodo:n,checkTodo:a,changeTodo:r},e.uuid)}))})},B=n(163);var E=function(e){var t=e.todoStatus,n=e.setTodoStatus;return Object(f.jsxs)(B.a,{children:[Object(f.jsx)(h.a,{onClick:function(){return n("")},variant:""===t?"contained":"outlined",color:"default",children:"All"}),Object(f.jsx)(h.a,{onClick:function(){return n("done")},variant:"done"===t?"contained":"outlined",color:"primary",children:"Done"}),Object(f.jsx)(h.a,{onClick:function(){return n("undone")},variant:"undone"===t?"contained":"outlined",color:"secondary",children:"Undone"})]})},A=n(78),F=n.n(A),R=n(79),W=n.n(R);var H=function(e){var t=e.todoSort,n=e.setTodoSort,a=function(e){e!==t&&n(e)};return Object(f.jsxs)(O.a,{container:!0,direction:"row",alignItems:"center",children:[Object(f.jsx)(m.a,{variant:"h6",component:"h2",children:"Sorted by Date"}),Object(f.jsx)(C.a,{color:t?"primary":"default",onClick:function(){return a(!0)},"aria-label":"delete",size:"small",children:Object(f.jsx)(F.a,{fontSize:"inherit"})}),Object(f.jsx)(C.a,{color:t?"default":"primary",onClick:function(){return a(!1)},"aria-label":"delete",size:"small",children:Object(f.jsx)(W.a,{fontSize:"inherit"})})]})},J=n(164),K=n(165);var M=function(e){var t=e.pageCount,n=e.currentPage,a=e.setCurrentPage,r=new Array(t).fill("").map((function(e,t){return t+1}));return Object(f.jsxs)(O.a,{container:!0,justify:"center",children:[Object(f.jsx)(h.a,{color:"primary",onClick:function(){return a(1)},children:Object(f.jsx)(J.a,{})}),Object(f.jsx)(O.a,{children:Object(f.jsx)(B.a,{children:r.map((function(e){return Object(f.jsx)(h.a,{color:"primary",variant:e===n?"contained":"outlined",onClick:function(){return a(e)},children:e},e)}))})}),Object(f.jsx)(h.a,{color:"primary",onClick:function(){return a(r.length)},children:Object(f.jsx)(K.a,{})})]})},q=n(80),G=n.n(q).a.create({baseURL:"https://back-end-main.herokuapp.com/"}),Q=n(169),V=n(166);var X=function(e){var t=e.setUserName,n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(""),u=Object(d.a)(s,2),b=u[0],h=u[1],x=Object(a.useState)(!0),g=Object(d.a)(x,2),y=g[0],k=g[1],C=Object(a.useState)(1),w=Object(d.a)(C,2),S=w[0],T=w[1],I=Object(a.useState)(1),D=Object(d.a)(I,2),L=D[0],U=D[1],P=Object(a.useState)({alert:!1,message:"message",statusCode:"status"}),N=Object(d.a)(P,2),B=N[0],A=N[1],F=Object(a.useCallback)(Object(j.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),G.defaults.headers.common.Authorization="Bearer ".concat(n),e.next=5,G.get("/tasks",{params:{filterBy:b,orderBy:y?"asc":"desc",page:L,limit:5}});case 5:a=e.sent,t(a.data.name),T(a.data.pageCount),o(a.data.rows),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[t,b,y,L]);Object(a.useEffect)((function(){F()}),[F]);var R=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.post("/task",{name:t,done:!1});case 3:return e.next=5,F();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response.data.message,a=e.t0.response.status,A({alert:!0,message:n,statusCode:a});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.delete("task/".concat(t));case 3:return e.next=5,F();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response.data.message,a=e.t0.response.status,A({alert:!0,message:n,statusCode:a});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.patch("/task/".concat(t.uuid),{name:n,done:a});case 3:return e.next=5,F();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.response.data.message,c=e.t0.response.status,A({alert:!0,message:r,statusCode:c});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),K=function(){A((function(e){return Object(i.a)(Object(i.a)({},e),{},{alert:!1})}))};return Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(m.a,{style:{marginTop:50},variant:"h1",component:"h2",align:"center",children:"Todo"}),Object(f.jsx)(v,{addTodo:R}),Object(f.jsxs)(O.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(f.jsx)(O.a,{children:Object(f.jsx)(E,{todoStatus:b,setTodoStatus:h})}),Object(f.jsx)(O.a,{children:Object(f.jsx)(H,{todoSort:y,setTodoSort:k})})]}),Object(f.jsx)(z,{todos:c,removeTodo:W,changeTodo:J}),S>1&&Object(f.jsx)(M,{pageCount:S,currentPage:L,setCurrentPage:U}),Object(f.jsx)(p.a,{open:B.alert,autoHideDuration:3e3,onClose:K,children:Object(f.jsxs)(Q.a,{onClose:K,severity:"error",children:[Object(f.jsx)(V.a,{children:"".concat(B.message)}),"Status code: ".concat(B.statusCode)]})})]})};var Y=function(e){var t=e.user,n=e.isSignup,a=e.setIsSignup,r=e.signUp,c=e.login,o=e.handleChange;return Object(f.jsx)("div",{className:"wrapper",children:Object(f.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(O.a,{container:!0,direction:"column",justify:"center",align:"center",children:[Object(f.jsx)(m.a,{style:{marginTop:100},variant:"h3",align:"center",children:n?"SignUp":"Login"}),Object(f.jsx)(g.a,{type:"name",name:"name",onChange:o,value:t.name,style:{marginTop:30},label:"Username"}),Object(f.jsx)(g.a,{type:"password",name:"password",onChange:o,value:t.password,style:{marginTop:30},label:"Password"})]}),Object(f.jsxs)(O.a,{style:{marginTop:30},container:!0,direction:"row",justify:"center",align:"center",children:[n?Object(f.jsx)(h.a,{onClick:r,type:"submit",style:{marginRight:30,textTransform:"none"},variant:"contained",color:"primary",children:"SignUp"}):Object(f.jsx)(h.a,{onClick:c,type:"submit",style:{marginRight:30,textTransform:"none"},variant:"contained",color:"primary",children:"Login"}),Object(f.jsx)(h.a,{onClick:function(){return a(!n)},style:{textTransform:"none"},color:"primary",children:n?"Do you have account?":"No accaunt?"})]})]})})})};var Z=function(){var e=Object(a.useState)({name:"",password:""}),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(d.a)(c,2),u=o[0],O=o[1],m=Object(a.useState)(!1),h=Object(d.a)(m,2),g=h[0],v=h[1],y=Object(a.useState)(!1),k=Object(d.a)(y,2),C=k[0],w=k[1],S=Object(a.useState)({alert:!1,message:"message",statusCode:"status"}),T=Object(d.a)(S,2),I=T[0],D=T[1],L=Object(a.useCallback)((function(){localStorage.token&&w(!0)}),[]);Object(a.useEffect)((function(){L()}),[L]);var U=function(){var e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.post("/registration",{name:n.name,password:n.password});case 3:r({name:"",password:""}),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),t=e.t0.response.data.message,a=e.t0.response.status,D({alert:!0,message:t,statusCode:a});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(l.a.mark((function e(){var t,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.post("/login",{name:n.name,password:n.password});case 3:t=e.sent,a=t.data.token,localStorage.setItem("token",a),r({name:"",password:""}),w(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),c=e.t0.response.data.message,o=e.t0.response.status,D({alert:!0,message:c,statusCode:o});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),N=function(){D((function(e){return Object(i.a)(Object(i.a)({},e),{},{alert:!1})}))};return Object(f.jsxs)(b.a,{style:{padding:0},maxWidth:"xl",children:[Object(f.jsx)(x,{userName:u,isLogin:C,setIsLogin:w}),C?Object(f.jsx)(X,{setUserName:O}):Object(f.jsx)(Y,{user:n,isSignup:g,setIsSignup:v,signUp:U,login:P,handleChange:function(e){r(Object(i.a)(Object(i.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))}}),Object(f.jsx)(p.a,{open:I.alert,autoHideDuration:3e3,onClose:N,children:Object(f.jsxs)(Q.a,{onClose:N,severity:"error",children:[Object(f.jsx)(V.a,{children:"".concat(I.message)}),"Status code: ".concat(I.statusCode)]})})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Z,{})}),document.getElementById("root")),$()},96:function(e,t,n){}},[[121,1,2]]]);
//# sourceMappingURL=main.4a814e49.chunk.js.map