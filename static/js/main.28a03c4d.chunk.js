(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{207:function(e,t,n){},234:function(e,t){},236:function(e,t){},250:function(e,t){},252:function(e,t){},280:function(e,t){},282:function(e,t){},283:function(e,t){},288:function(e,t){},290:function(e,t){},309:function(e,t){},321:function(e,t){},324:function(e,t){},341:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),s=(n(207),n(31)),i=n(20),u=n.n(i),l=n(39),j=n(17),d=n(387),b=n(392),p=n(374),f=n(70),m=n(342),O=n(3),x=function(e){var t=e.isLogin,n=e.logout;return Object(O.jsxs)(p.a,{style:{background:"#3f51b5"},container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(O.jsx)(f.a,{style:{padding:20,color:"white"},variant:"h3",align:"left",children:t?localStorage.getItem("name"):"Todo App"}),t&&Object(O.jsx)(m.a,{onClick:function(){return n()},style:{marginRight:30,textTransform:"none",fontSize:18},variant:"contained",color:"secondary",children:"Logout"})]})},g=n(388);var h=function(e){var t=e.addTodo,n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],o=r[1],s=function(e){e.preventDefault(),t(c),o("")};return Object(O.jsx)("form",{onSubmit:s,children:Object(O.jsx)(g.a,{value:c,onChange:function(e){o(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&s(e)},placeholder:"I want to...",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},variant:"outlined"})})},v=n(379),k=n(380),y=n(381),S=n(188),C=n.n(S),w=n(390),T=n(382),I=n(186),D=n.n(I),L=n(187),P=n.n(L);var U=function(e){var t=e.todo,n=e.removeTodo,r=e.changeTodo,c=Object(a.useState)(!1),o=Object(j.a)(c,2),s=o[0],i=o[1],u=Object(a.useState)(t.name),l=Object(j.a)(u,2),d=l[0],b=l[1],f=Object(a.useState)(!1),m=Object(j.a)(f,2),x=m[0],h=m[1];return Object(O.jsx)(k.a,{children:Object(O.jsxs)(p.a,{container:!0,direction:"row",alignItems:"center",children:[Object(O.jsx)(p.a,{item:!0,xs:1,children:Object(O.jsx)(w.a,{onClick:function(){return function(e){r(e,d,!e.done)}(t)},icon:Object(O.jsx)(D.a,{}),checkedIcon:Object(O.jsx)(P.a,{color:"primary"}),checked:t.done})}),Object(O.jsx)(p.a,{item:!0,xs:8,children:s?Object(O.jsx)(g.a,{multiline:!0,value:d,autoFocus:!0,variant:"outlined",onChange:function(e){return b(e.target.value)},onKeyDown:function(e){return function(e,t){"Enter"===t.key&&(t.preventDefault(),i(!1),r(e,d,e.done)),"Escape"===t.key&&(i(!1),b(e.name))}(t,e)},onBlur:function(){i(!1),b(t.name)}}):Object(O.jsx)(T.a,{primary:t.name,style:{overflowWrap:"break-word"},multiline:"true",onClick:function(){return i(!0)}})}),Object(O.jsx)(p.a,{item:!0,xs:2,children:Object(O.jsx)(T.a,{children:t.updatedAt})}),Object(O.jsx)(p.a,{item:!0,xs:1,children:Object(O.jsx)(y.a,{"aria-label":"delete",disabled:x,onClick:function(){return h(!0),void n(t.uuid)},children:Object(O.jsx)(C.a,{})})})]})})},z=n(383);var B=function(e){var t=e.todoStatus,n=e.setTodoStatus;return Object(O.jsxs)(z.a,{children:[Object(O.jsx)(m.a,{onClick:function(){return n("")},variant:""===t?"contained":"outlined",color:"default",children:"All"}),Object(O.jsx)(m.a,{onClick:function(){return n("done")},variant:"done"===t?"contained":"outlined",color:"primary",children:"Done"}),Object(O.jsx)(m.a,{onClick:function(){return n("undone")},variant:"undone"===t?"contained":"outlined",color:"secondary",children:"Undone"})]})},E=n(189),A=n.n(E),F=n(190),R=n.n(F);var N=function(e){var t=e.todoSort,n=e.setTodoSort,a=function(e){e!==t&&n(e)};return Object(O.jsxs)(p.a,{container:!0,direction:"row",alignItems:"center",children:[Object(O.jsx)(f.a,{variant:"h6",component:"h2",children:"Sorted by Date"}),Object(O.jsx)(y.a,{color:"desc"===t?"primary":"default",onClick:function(){return a("desc")},"aria-label":"delete",size:"medium",children:Object(O.jsx)(A.a,{fontSize:"inherit"})}),Object(O.jsx)(y.a,{color:"asc"===t?"primary":"default",onClick:function(){return a("asc")},"aria-label":"delete",size:"medium",children:Object(O.jsx)(R.a,{fontSize:"inherit"})})]})},W=n(384),H=n(385);var J=function(e){var t=e.pageCount,n=e.currentPage,a=e.setCurrentPage,r=new Array(t).fill("").map((function(e,t){return t+1}));return Object(O.jsxs)(p.a,{container:!0,justify:"center",children:[Object(O.jsx)(m.a,{color:"primary",onClick:function(){return a(1)},children:Object(O.jsx)(W.a,{})}),Object(O.jsx)(p.a,{children:Object(O.jsx)(z.a,{children:r.map((function(e){return Object(O.jsx)(m.a,{color:"primary",variant:e===n?"contained":"outlined",onClick:function(){return a(e)},children:e},e)}))})}),Object(O.jsx)(m.a,{color:"primary",onClick:function(){return a(r.length)},children:Object(O.jsx)(H.a,{})})]})},K=n(191),M=n.n(K).a.create({baseURL:"https://back-end-main.herokuapp.com/"}),q=n(389),G=n(386),Q=n(83);var V=function(e){var t=e.setIsLogin,n=Object(a.useState)([]),r=Object(j.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(""),d=Object(j.a)(i,2),m=d[0],x=d[1],g=Object(a.useState)("desc"),k=Object(j.a)(g,2),y=k[0],S=k[1],C=Object(a.useState)(1),w=Object(j.a)(C,2),T=w[0],I=w[1],D=Object(a.useState)(1),L=Object(j.a)(D,2),P=L[0],z=L[1],E=Object(a.useState)({alert:!1,message:"message",statusCode:"status"}),A=Object(j.a)(E,2),F=A[0],R=A[1],W=Object(a.useCallback)(Object(l.a)(u.a.mark((function e(){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),M.defaults.headers.common.Authorization="Bearer ".concat(n),e.next=5,M.get("/tasks",{params:{filterBy:m,orderBy:y,page:P,limit:5}});case 5:a=e.sent,I(a.data.pageCount),o(a.data.rows),e.next=21;break;case 10:if(e.prev=10,e.t0=e.catch(0),r=e.t0.response.data.message,c=e.t0.response.status,R({alert:!0,message:r,statusCode:c}),!Q.decode(localStorage.token)){e.next=19;break}return t(!0),e.abrupt("return");case 19:localStorage.removeItem("token"),t(!1);case 21:case"end":return e.stop()}}),e,null,[[0,10]])}))),[t,m,y,P]);Object(a.useEffect)((function(){W()}),[W]);var H=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("/task",{name:t,done:!1});case 3:return e.next=5,W();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response.data.message,a=e.t0.response.status,R({alert:!0,message:n,statusCode:a});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.delete("task/".concat(t));case 3:return e.next=5,W();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response.data.message,a=e.t0.response.status,R({alert:!0,message:n,statusCode:a});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.patch("/task/".concat(t.uuid),{name:n,done:a});case 3:return e.next=5,W();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.response.data.message,c=e.t0.response.status,R({alert:!0,message:r,statusCode:c});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),X=function(){R((function(e){return Object(s.a)(Object(s.a)({},e),{},{alert:!1})}))};return Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(f.a,{style:{marginTop:100},variant:"h2",align:"center",children:"Todo"}),Object(O.jsx)(h,{addTodo:H}),Object(O.jsxs)(p.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(O.jsx)(p.a,{children:Object(O.jsx)(B,{todoStatus:m,setTodoStatus:x})}),Object(O.jsx)(p.a,{children:Object(O.jsx)(N,{todoSort:y,setTodoSort:S})})]}),Object(O.jsx)(v.a,{children:c.map((function(e){return Object(O.jsx)(U,{todo:e,removeTodo:K,changeTodo:V},e.uuid)}))}),T>1&&Object(O.jsx)(J,{pageCount:T,currentPage:P,setCurrentPage:z}),Object(O.jsx)(b.a,{open:F.alert,autoHideDuration:3e3,onClose:X,children:Object(O.jsxs)(q.a,{onClose:X,severity:"error",children:[Object(O.jsx)(G.a,{children:"".concat(F.message)}),"Status code: ".concat(F.statusCode)]})})]})},X=n(80);var Y=function(e){var t=e.isSignup,n=e.setIsSignup,r=e.signUp,c=e.login,o=Object(a.useState)({name:"",password:""}),i=Object(j.a)(o,2),u=i[0],l=i[1],b=function(e){l(Object(s.a)(Object(s.a)({},u),{},Object(X.a)({},e.target.name,e.target.value)))};return Object(O.jsx)("div",{className:"wrapper",children:Object(O.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(O.jsxs)(d.a,{children:[Object(O.jsxs)(p.a,{container:!0,direction:"column",justify:"center",align:"center",children:[Object(O.jsx)(f.a,{style:{marginTop:100},variant:"h3",align:"center",children:t?"SignUp":"Login"}),Object(O.jsx)(g.a,{type:"name",name:"name",onChange:b,value:u.name,style:{marginTop:30},label:"Username"}),Object(O.jsx)(g.a,{type:"password",name:"password",onChange:b,value:u.password,style:{marginTop:30},label:"Password"})]}),Object(O.jsxs)(p.a,{style:{marginTop:30},container:!0,direction:"row",justify:"center",align:"center",children:[t?Object(O.jsx)(m.a,{onClick:function(){return r(u)},type:"submit",style:{marginRight:30,textTransform:"none"},variant:"contained",color:"primary",children:"SignUp"}):Object(O.jsx)(m.a,{onClick:function(){return c(u)},type:"submit",style:{marginRight:30,textTransform:"none"},variant:"contained",color:"primary",children:"Login"}),Object(O.jsx)(m.a,{onClick:function(){return n(!t)},style:{textTransform:"none"},color:"primary",children:t?"Do you have account?":"No accaunt?"})]})]})})})};var Z=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(j.a)(c,2),i=o[0],p=o[1],f=Object(a.useState)({alert:!1,message:"message",statusCode:"status"}),m=Object(j.a)(f,2),g=m[0],h=m[1],v=Object(a.useCallback)((function(){if(localStorage.token){if(Q.decode(localStorage.token))return void p(!0);localStorage.removeItem("token"),p(!1)}}),[]);Object(a.useEffect)((function(){v()}),[v]);var k=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.password,e.prev=1,e.next=4,M.post("/login",{name:n,password:a});case 4:r=e.sent,c=r.data.token,localStorage.setItem("token",c),localStorage.setItem("name",n),p(!0),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),o=e.t0.response.data.message,s=e.t0.response.status,h({alert:!0,message:o,statusCode:s});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.password,e.prev=1,e.next=4,M.post("/registration",{name:n,password:a});case 4:k({name:n,password:a}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),r=e.t0.response.data.message,c=e.t0.response.status,h({alert:!0,message:r,statusCode:c});case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){h((function(e){return Object(s.a)(Object(s.a)({},e),{},{alert:!1})}))};return Object(O.jsxs)(d.a,{style:{padding:0},maxWidth:"xl",children:[Object(O.jsx)(x,{isLogin:i,logout:function(){localStorage.removeItem("token"),localStorage.removeItem("name"),p(!1)}}),i?Object(O.jsx)(V,{setIsLogin:p}):Object(O.jsx)(Y,{isSignup:n,setIsSignup:r,signUp:y,login:k}),Object(O.jsx)(b.a,{open:g.alert,autoHideDuration:3e3,onClose:S,children:Object(O.jsxs)(q.a,{onClose:S,severity:"error",children:[Object(O.jsx)(G.a,{children:"".concat(g.message)}),"Status code: ".concat(g.statusCode)]})})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,393)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Z,{})}),document.getElementById("root")),$()}},[[341,1,2]]]);
//# sourceMappingURL=main.28a03c4d.chunk.js.map